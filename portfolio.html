<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Safyan | Android Developer</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
:root{
  --primary:#3ddc84;
  --bg:#f1f5f9;
  --card:rgba(255,255,255,0.6);
  --text:#0f172a;
  --muted:#64748b;
}

body.dark{
  --bg:#0f172a;
  --card:rgba(30,41,59,0.6);
  --text:#f8fafc;
  --muted:#94a3b8;
}

*{margin:0;padding:0;box-sizing:border-box;}
body{
  font-family:'Poppins',sans-serif;
  background:var(--bg);
  color:var(--text);
  transition:0.4s ease;
  overflow-x:hidden;
}

/* Animated Background */
body::before{
  content:"";
  position:fixed;
  width:200%;
  height:200%;
  background:
    radial-gradient(circle at 30% 30%, #3ddc84, transparent),
    radial-gradient(circle at 70% 70%, #00c853, transparent);
  animation:moveBg 20s infinite alternate;
  opacity:0.1;
  z-index:-1;
}
@keyframes moveBg{
  from{transform:translate(0,0);}
  to{transform:translate(-20%,-20%);}
}

/* Header */
header{
  position:fixed;
  width:100%;
  backdrop-filter:blur(15px);
  background:var(--card);
  display:flex;
  justify-content:space-between;
  padding:1rem 8%;
  z-index:1000;
}
.logo{font-weight:700;color:var(--primary);}
.theme-toggle{cursor:pointer;font-size:1.2rem;}

/* Sections */
section{
  min-height:100vh;
  padding:120px 8%;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
  opacity:0;
  transform:translateY(60px);
  transition:1s ease;
}
section.visible{
  opacity:1;
  transform:translateY(0);
}

/* HERO */
.hero h1{font-size:3rem;}
.typing{color:var(--primary);margin-top:1rem;font-weight:600;}

/* PHONE */
.phone-wrapper{
  margin-top:4rem;
  perspective:1200px;
}
.phone{
  width:280px;
  height:560px;
  background:#111;
  border-radius:45px;
  padding:12px;
  position:relative;
  box-shadow:0 50px 100px rgba(0,0,0,0.4);
  transform-style:preserve-3d;
  transition:transform 0.2s ease;
}
.phone-screen{
  width:100%;
  height:100%;
  border-radius:35px;
  overflow:hidden;
  background:black;
}
.phone-screen video{
  width:100%;
  height:100%;
  object-fit:cover;
}
.phone-notch{
  position:absolute;
  top:8px;
  left:50%;
  transform:translateX(-50%);
  width:140px;
  height:30px;
  background:black;
  border-radius:20px;
  z-index:10;
}
.phone::after{
  content:"";
  position:absolute;
  width:50%;
  height:100%;
  background:linear-gradient(120deg,rgba(255,255,255,0.2),transparent);
  border-radius:45px;
}

/* Cards */
.card{
  background:var(--card);
  backdrop-filter:blur(15px);
  padding:2rem;
  border-radius:20px;
  box-shadow:0 15px 40px rgba(0,0,0,0.1);
  margin:2rem 0;
  width:100%;
  max-width:900px;
}

/* Repo Grid */
.repo-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:2rem;
  width:100%;
}
.repo-card h3{margin-bottom:0.5rem;}
.repo-meta{color:var(--muted);font-size:0.9rem;margin-top:0.5rem;}

/* Progress Bars */
.lang-bar{margin:1rem 0;text-align:left;}
.progress{
  height:8px;
  background:#ddd;
  border-radius:10px;
  overflow:hidden;
}
.progress-fill{
  height:100%;
  background:var(--primary);
  width:0;
  transition:1.5s ease;
}

/* Footer */
footer{
  padding:2rem;
  text-align:center;
  color:var(--muted);
}
</style>
</head>
<body>

<header>
  <div class="logo">dev_safyan.kt</div>
  <div class="theme-toggle" id="themeToggle">üåô</div>
</header>

<section class="hero">
  <h1>Hi, I'm Safyan</h1>
  <div class="typing" id="typing"></div>

  <div class="phone-wrapper">
    <div class="phone" id="phone">
      <div class="phone-notch"></div>
      <div class="phone-screen">
        <video autoplay muted loop playsinline>
         <source src="projects-demo.mp4" type="video/mp4">
        </video>
      </div>
    </div>
  </div>
</section>

<section>
  <h2>GitHub Profile</h2>
  <div class="card" id="profileCard">Loading...</div>

  <h2>Top Languages</h2>
  <div class="card" id="languagesCard"></div>

  <h2>Featured Projects</h2>
  <div class="repo-grid" id="repoGrid"></div>
</section>

<footer>
  ¬© 2026 Safyan | Android Developer
</footer>

<script>
// DARK MODE
const toggle=document.getElementById("themeToggle");
if(localStorage.getItem("theme")==="dark"){
  document.body.classList.add("dark");
  toggle.textContent="‚òÄÔ∏è";
}
toggle.onclick=()=>{
  document.body.classList.toggle("dark");
  const dark=document.body.classList.contains("dark");
  toggle.textContent=dark?"‚òÄÔ∏è":"üåô";
  localStorage.setItem("theme",dark?"dark":"light");
};
// Demo Videos
const videos = [
  "projects-demo.mp4",
];

let currentVideo = 0;
const videoElement = document.getElementById("appVideo");

setInterval(() => {
  currentVideo = (currentVideo + 1) % videos.length;
  videoElement.src = videos[currentVideo];
  videoElement.play();
}, 8000); // change every 8 seconds

// TYPING EFFECT
const roles=["Android Developer","Kotlin Specialist","Jetpack Compose","Mobile Architect"];
let i=0,j=0,deleting=false;
function type(){
  const current=roles[i];
  if(deleting) j--; else j++;
  document.getElementById("typing").textContent=current.substring(0,j);
  if(!deleting && j===current.length){ deleting=true; setTimeout(type,1000); return;}
  if(deleting && j===0){ deleting=false; i=(i+1)%roles.length;}
  setTimeout(type,deleting?50:100);
}
type();

// Scroll Reveal
const observer=new IntersectionObserver(entries=>{
  entries.forEach(e=>{if(e.isIntersecting)e.target.classList.add("visible");});
},{threshold:0.2});
document.querySelectorAll("section").forEach(s=>observer.observe(s));

// 3D Tilt Phone
const phone=document.getElementById("phone");
document.addEventListener("mousemove",(e)=>{
  const x=(window.innerWidth/2 - e.pageX)/25;
  const y=(window.innerHeight/2 - e.pageY)/25;
  phone.style.transform=`rotateY(${x}deg) rotateX(${y}deg)`;
});

// GITHUB
async function loadGitHub(){
  const user=await fetch("https://api.github.com/users/Safyan76").then(r=>r.json());
  document.getElementById("profileCard").innerHTML=`
    <img src="${user.avatar_url}" width="100" style="border-radius:50%">
    <h3>${user.name||user.login}</h3>
    <p>${user.bio||""}</p>
    <p>Followers: ${user.followers} | Repos: ${user.public_repos}</p>
    <a href="${user.html_url}" target="_blank">Visit GitHub</a>
  `;

  const repos=await fetch("https://api.github.com/users/Safyan76/repos?per_page=100").then(r=>r.json());
  const repoGrid=document.getElementById("repoGrid");
  const langCount={};

  repos.slice(0,6).forEach(repo=>{
    const card=document.createElement("div");
    card.className="card repo-card";
    card.innerHTML=`
      <h3>${repo.name}</h3>
      <p>${repo.description||"No description provided."}</p>
      <div class="repo-meta">‚≠ê ${repo.stargazers_count} | üç¥ ${repo.forks_count}</div>
      <a href="${repo.html_url}" target="_blank">View Repo</a>
    `;
    repoGrid.appendChild(card);
    if(repo.language) langCount[repo.language]=(langCount[repo.language]||0)+1;
  });

  const total=Object.values(langCount).reduce((a,b)=>a+b,0);
  const langCard=document.getElementById("languagesCard");
  Object.entries(langCount).sort((a,b)=>b[1]-a[1]).slice(0,5).forEach(([lang,count])=>{
    const percent=Math.round((count/total)*100);
    const div=document.createElement("div");
    div.className="lang-bar";
    div.innerHTML=`
      <span>${lang} (${percent}%)</span>
      <div class="progress">
        <div class="progress-fill" style="width:${percent}%"></div>
      </div>
    `;
    langCard.appendChild(div);
  });
}
loadGitHub();
</script>

</body>
</html>